<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase ìƒ˜í”Œ ë°ì´í„° ì¶”ê°€</title>
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #667eea;
            text-align: center;
        }
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            margin: 10px 0;
        }
        .btn:hover {
            opacity: 0.9;
        }
        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 5px;
            display: none;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        pre {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”¥ Firebase ìƒ˜í”Œ ë°ì´í„° ì¶”ê°€</h1>
        <p>ì´ í˜ì´ì§€ëŠ” Firebase Firestoreì— ìƒ˜í”Œ ë°ì´í„°ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.</p>
        
        <button class="btn" onclick="addSampleData()">ğŸ“ ìƒ˜í”Œ ë°ì´í„° ì¶”ê°€í•˜ê¸°</button>
        
        <div id="status" class="status"></div>
        
        <h3>ì¶”ê°€ë  ë°ì´í„°:</h3>
        <ul>
            <li>í˜„ì¥ (Sites): 3ê°œ</li>
            <li>ê±´ë¬¼ (Buildings): 4ê°œ</li>
            <li>ì¥ë¹„ (Equipment): 8ê°œ</li>
            <li>ì ê²€ì (Inspectors): 4ëª…</li>
            <li>ì ê²€ ê¸°ë¡ (Inspections): 5ê°œ</li>
        </ul>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getFirestore, collection, addDoc, setDoc, doc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSvObiEPfQkEfSLRzyg2BdCCJmQENJs8ic",
            authDomain: "hvac-management-477fb.firebaseapp.com",
            projectId: "hvac-management-477fb",
            storageBucket: "hvac-management-477fb.firebasestorage.app",
            messagingSenderId: "812239966797",
            appId: "1:812239966797:web:b454d99fde982328f7dea04",
            measurementId: "G-f14YESP0P1"
        };
        
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        
        window.db = db;
        window.firestoreModules = { collection, addDoc, setDoc, doc };
    </script>

    <script>
        async function addSampleData() {
            const statusDiv = document.getElementById('status');
            statusDiv.style.display = 'block';
            statusDiv.className = 'status info';
            statusDiv.innerHTML = 'â³ ë°ì´í„° ì¶”ê°€ ì¤‘...';

            try {
                const { collection, addDoc, setDoc, doc } = window.firestoreModules;

                // 1. í˜„ì¥ ë°ì´í„°
                statusDiv.innerHTML += '<br>ğŸ“ í˜„ì¥ ë°ì´í„° ì¶”ê°€ ì¤‘...';
                const sites = [
                    { id: 'SITE001', site_name: 'ì„œìš¸ ë³¸ì‚¬', address: 'ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123', manager: 'ê¹€í˜„ì¥', phone: '02-1234-5678' },
                    { id: 'SITE002', site_name: 'ë¶€ì‚° ì§€ì‚¬', address: 'ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ ì„¼í…€ì¤‘ì•™ë¡œ 456', manager: 'ì´ê´€ë¦¬', phone: '051-9876-5432' },
                    { id: 'SITE003', site_name: 'ì¸ì²œ ë¬¼ë¥˜ì„¼í„°', address: 'ì¸ì²œê´‘ì—­ì‹œ ì—°ìˆ˜êµ¬ ì†¡ë„ê³¼í•™ë¡œ 789', manager: 'ë°•ë‹´ë‹¹', phone: '032-5555-6666' }
                ];
                
                for (const site of sites) {
                    await setDoc(doc(window.db, 'sites', site.id), site);
                }

                // 2. ê±´ë¬¼ ë°ì´í„°
                statusDiv.innerHTML += '<br>ğŸ¢ ê±´ë¬¼ ë°ì´í„° ì¶”ê°€ ì¤‘...';
                const buildings = [
                    { id: 'BLDG001', site_id: 'SITE001', building_name: 'Aë™', floors: 15, area: 5000 },
                    { id: 'BLDG002', site_id: 'SITE001', building_name: 'Bë™', floors: 10, area: 3500 },
                    { id: 'BLDG003', site_id: 'SITE002', building_name: 'ë©”ì¸ë¹Œë”©', floors: 20, area: 8000 },
                    { id: 'BLDG004', site_id: 'SITE003', building_name: 'ì°½ê³ ë™', floors: 5, area: 10000 }
                ];
                
                for (const building of buildings) {
                    await setDoc(doc(window.db, 'buildings', building.id), building);
                }

                // 3. ì¥ë¹„ ë°ì´í„°
                statusDiv.innerHTML += '<br>âš™ï¸ ì¥ë¹„ ë°ì´í„° ì¶”ê°€ ì¤‘...';
                const equipment = [
                    { id: 'EQ001', site_id: 'SITE001', building_id: 'BLDG001', equipment_type: 'AHU(ê³µì¡°ê¸°)', floor: '10F', location: 'ê¸°ê³„ì‹¤', model: 'AHU-1000', capacity: '50,000 CMH', install_date: '2020-03-15' },
                    { id: 'EQ002', site_id: 'SITE001', building_id: 'BLDG001', equipment_type: 'ëƒ‰ë™ê¸°', floor: 'B1F', location: 'ì§€í•˜ ê¸°ê³„ì‹¤', model: 'CHILLER-2000', capacity: '500 RT', install_date: '2019-11-20' },
                    { id: 'EQ003', site_id: 'SITE001', building_id: 'BLDG002', equipment_type: 'FCU(íŒ¬ì½”ì¼ìœ ë‹›)', floor: '5F', location: 'ì‚¬ë¬´ì‹¤', model: 'FCU-300', capacity: '3,000 CMH', install_date: '2021-01-10' },
                    { id: 'EQ004', site_id: 'SITE002', building_id: 'BLDG003', equipment_type: 'ëƒ‰ê°íƒ‘', floor: 'RF', location: 'ì˜¥ìƒ', model: 'CT-5000', capacity: '1,000 RT', install_date: '2018-06-25' },
                    { id: 'EQ005', site_id: 'SITE002', building_id: 'BLDG003', equipment_type: 'ë³´ì¼ëŸ¬', floor: 'B2F', location: 'ë³´ì¼ëŸ¬ì‹¤', model: 'BOILER-800', capacity: '800 kW', install_date: '2019-09-30' },
                    { id: 'EQ006', site_id: 'SITE003', building_id: 'BLDG004', equipment_type: 'ì†¡í’ê¸°', floor: '3F', location: 'í™˜ê¸°êµ¬ì—­', model: 'FAN-1500', capacity: '15,000 CMH', install_date: '2020-07-12' },
                    { id: 'EQ007', site_id: 'SITE003', building_id: 'BLDG004', equipment_type: 'íŒí”„', floor: 'B1F', location: 'íŒí”„ì‹¤', model: 'PUMP-400', capacity: '400 LPM', install_date: '2021-03-05' },
                    { id: 'EQ008', site_id: 'SITE001', building_id: 'BLDG001', equipment_type: 'ë°°ê¸°íŒ¬', floor: 'RF', location: 'ì˜¥ìƒ', model: 'EXFAN-200', capacity: '20,000 CMH', install_date: '2020-12-15' }
                ];
                
                for (const eq of equipment) {
                    await setDoc(doc(window.db, 'equipment', eq.id), eq);
                }

                // 4. ì ê²€ì ë°ì´í„°
                statusDiv.innerHTML += '<br>ğŸ‘· ì ê²€ì ë°ì´í„° ì¶”ê°€ ì¤‘...';
                const inspectors = [
                    { id: 'INSP001', inspector_name: 'í™ê¸¸ë™' },
                    { id: 'INSP002', inspector_name: 'ê¹€ì² ìˆ˜' },
                    { id: 'INSP003', inspector_name: 'ì´ì˜í¬' },
                    { id: 'INSP004', inspector_name: 'ë°•ë¯¼ìˆ˜' }
                ];
                
                for (const inspector of inspectors) {
                    await setDoc(doc(window.db, 'inspectors', inspector.id), inspector);
                }

                // 5. ì ê²€ ê¸°ë¡ ìƒ˜í”Œ ë°ì´í„°
                statusDiv.innerHTML += '<br>ğŸ“‹ ì ê²€ ê¸°ë¡ ë°ì´í„° ì¶”ê°€ ì¤‘...';
                const inspections = [
                    {
                        equipment_id: 'EQ001',
                        inspection_type: 'ì¼ë°˜ì ê²€',
                        inspector_name: 'í™ê¸¸ë™',
                        inspection_date: new Date('2025-01-28T09:30:00'),
                        status: 'ì •ìƒ',
                        indoor_temperature: '23.5',
                        set_temperature: '22.0',
                        high_pressure: '17.8',
                        low_pressure: '5.3',
                        current_r: '12.5',
                        current_s: '12.3',
                        current_t: '12.7',
                        operation_status: 'ì •ìƒ',
                        leak_check: 'ì—†ìŒ',
                        notes: 'ëª¨ë“  í•­ëª© ì •ìƒ ì‘ë™ ì¤‘',
                        photo_url: ''
                    },
                    {
                        equipment_id: 'EQ002',
                        inspection_type: 'ì„¸ë¶€ì ê²€',
                        inspector_name: 'ê¹€ì² ìˆ˜',
                        inspection_date: new Date('2025-01-28T10:15:00'),
                        status: 'ì£¼ì˜',
                        indoor_temperature: '8.2',
                        set_temperature: '7.0',
                        high_pressure: '18.5',
                        low_pressure: '4.8',
                        current_r: '15.2',
                        current_s: '15.8',
                        current_t: '14.9',
                        vibration: '2.8',
                        noise: '72',
                        operation_status: 'ì •ìƒ',
                        leak_check: 'ì—†ìŒ',
                        clean_status: 'ë³´í†µ',
                        filter_status: 'ì–‘í˜¸',
                        notes: 'ì†ŒìŒì´ ì•½ê°„ ë†’ìŒ. ì „ë¥˜ Sìƒì´ ë‹¤ì†Œ ë†’ìŒ. ë‹¤ìŒ ì ê²€ ì‹œ ì¬í™•ì¸ í•„ìš”',
                        photo_url: ''
                    },
                    {
                        equipment_id: 'EQ003',
                        inspection_type: 'ì¼ë°˜ì ê²€',
                        inspector_name: 'ì´ì˜í¬',
                        inspection_date: new Date('2025-01-29T11:00:00'),
                        status: 'ì •ìƒ',
                        indoor_temperature: '22.0',
                        set_temperature: '22.0',
                        high_pressure: '16.2',
                        low_pressure: '5.5',
                        current_r: '8.5',
                        current_s: '8.3',
                        current_t: '8.6',
                        operation_status: 'ì •ìƒ',
                        leak_check: 'ì—†ìŒ',
                        notes: 'ì •ìƒ ì‘ë™',
                        photo_url: ''
                    },
                    {
                        equipment_id: 'EQ004',
                        inspection_type: 'ì„¸ë¶€ì ê²€',
                        inspector_name: 'ë°•ë¯¼ìˆ˜',
                        inspection_date: new Date('2025-01-29T14:30:00'),
                        status: 'ê²½ê³ ',
                        indoor_temperature: '32.5',
                        set_temperature: '28.0',
                        high_pressure: '22.0',
                        low_pressure: '3.2',
                        current_r: '18.5',
                        current_s: '17.2',
                        current_t: '19.8',
                        vibration: '4.5',
                        noise: '85',
                        operation_status: 'ì´ìƒ',
                        leak_check: 'ìˆìŒ',
                        clean_status: 'ë¶ˆëŸ‰',
                        filter_status: 'êµì²´í•„ìš”',
                        notes: 'ëƒ‰ê°ìˆ˜ ëˆ„ìˆ˜ ë°œê²¬. ì¦‰ì‹œ ì¡°ì¹˜ í•„ìš”. ì••ë ¥ ì´ìƒ ë° ì „ë¥˜ ë¶ˆê· í˜•(Tìƒ ê³¼ì „ë¥˜)',
                        photo_url: ''
                    },
                    {
                        equipment_id: 'EQ005',
                        inspection_type: 'ì¼ë°˜ì ê²€',
                        inspector_name: 'í™ê¸¸ë™',
                        inspection_date: new Date('2025-01-29T15:45:00'),
                        status: 'ì •ìƒ',
                        indoor_temperature: '75.0',
                        set_temperature: '75.0',
                        high_pressure: '12.5',
                        low_pressure: '3.8',
                        current_r: '22.3',
                        current_s: '22.1',
                        current_t: '22.5',
                        operation_status: 'ì •ìƒ',
                        leak_check: 'ì—†ìŒ',
                        notes: 'ì •ìƒ ì‘ë™ ì¤‘',
                        photo_url: ''
                    }
                ];
                
                for (const inspection of inspections) {
                    await addDoc(collection(window.db, 'inspections'), inspection);
                }

                statusDiv.className = 'status success';
                statusDiv.innerHTML = `
                    âœ… <strong>ìƒ˜í”Œ ë°ì´í„° ì¶”ê°€ ì™„ë£Œ!</strong><br><br>
                    ğŸ“ í˜„ì¥: ${sites.length}ê°œ<br>
                    ğŸ¢ ê±´ë¬¼: ${buildings.length}ê°œ<br>
                    âš™ï¸ ì¥ë¹„: ${equipment.length}ê°œ<br>
                    ğŸ‘· ì ê²€ì: ${inspectors.length}ëª…<br>
                    ğŸ“‹ ì ê²€ ê¸°ë¡: ${inspections.length}ê°œ<br><br>
                    <a href="index.html" style="color: #667eea; font-weight: bold;">ğŸ  ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™</a>
                `;

            } catch (error) {
                console.error('Error:', error);
                statusDiv.className = 'status error';
                statusDiv.innerHTML = `âŒ <strong>ì˜¤ë¥˜ ë°œìƒ:</strong><br>${error.message}`;
            }
        }
    </script>
</body>
</html>
