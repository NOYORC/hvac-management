# 📊 체계적 데이터 생성 도구 사용 가이드

## 🎯 목적
현장(Site)별로 체계적으로 구분된 데이터를 생성하여 관리하기 쉽게 만듭니다.

---

## 🏗️ 데이터 구조

### **계층 구조**
```
현장(Site) → 건물(Building) → 장비(Equipment)
```

### **번호 체계**

#### 1. **현장 (Sites)**
- **형식**: `SITE001`, `SITE002`, `SITE003`, ...
- **개수**: 설정 가능 (기본 10개)

#### 2. **건물 (Buildings)**
- **개수**: 각 현장당 10개
- **번호 규칙**:
  - `SITE001` → `BLD001` ~ `BLD010`
  - `SITE002` → `BLD011` ~ `BLD020`
  - `SITE003` → `BLD021` ~ `BLD030`
  - ...

#### 3. **장비 (Equipment)**
- **개수**: 각 현장당 1000개 (설정 가능)
- **번호 규칙**:
  - `SITE001` → `EQ0001` ~ `EQ0999`
  - `SITE002` → `EQ1000` ~ `EQ1999`
  - `SITE003` → `EQ2000` ~ `EQ2999`
  - `SITE004` → `EQ3000` ~ `EQ3999`
  - ...

---

## 📋 데이터 예시

### **SITE001 (강남 오피스 빌딩)**
```
건물:
  - BLD001 (A동)
  - BLD002 (B동)
  - BLD003 (C동)
  ...
  - BLD010 (J동)

장비:
  - EQ0001 (BLD001, PACKAGED AIR CONDITIONER UNIT, R-1-01)
  - EQ0002 (BLD001, TURBO CHILLER, R-1-02)
  ...
  - EQ0999 (BLD010, FCU, R-19-99)
```

### **SITE002 (판교 테크노밸리)**
```
건물:
  - BLD011 (A동)
  - BLD012 (B동)
  - BLD013 (C동)
  ...
  - BLD020 (J동)

장비:
  - EQ1000 (BLD011, PACKAGED AIR CONDITIONER UNIT, R-1-01)
  - EQ1001 (BLD011, SCREW CHILLER, R-1-02)
  ...
  - EQ1999 (BLD020, AHU, R-19-99)
```

---

## 🚀 사용 방법

### **1. 페이지 접속**
```
https://noyorc.github.io/hvac-management/structured-data-generator.html
```

### **2. 설정 입력**

#### **생성할 현장 개수**
- 기본값: 10개
- 범위: 1 ~ 100개
- 예시: 5개 입력 → SITE001 ~ SITE005 생성

#### **현장당 장비 개수**
- 기본값: 1000개
- 범위: 100 ~ 10000개 (100 단위)
- 예시: 500개 입력 → 각 현장당 500개 장비 생성

### **3. 데이터 생성**

#### **① "데이터 생성 시작" 버튼 클릭**
```
진행 순서:
1. 현장 데이터 생성 (SITE001 ~ SITE010)
2. 건물 데이터 생성 (BLD001 ~ BLD100)
3. 장비 데이터 생성 (EQ0001 ~ EQ9999)
```

#### **② 진행률 확인**
- 실시간 진행률 표시
- 현재 단계 표시 (현장/건물/장비 저장 중)
- 진행률 바 표시 (0% ~ 100%)

#### **③ 완료 확인**
```
🎉 모든 데이터 생성 완료!
현장: 10개, 건물: 100개, 장비: 10000개

📊 생성된 데이터 요약
- 현장: 10개 (SITE001 ~ SITE010)
- 건물: 100개 (각 현장당 10개)
- 장비: 10000개 (각 현장당 1000개)

📋 현장별 장비 번호 범위
- SITE001 (강남 오피스 빌딩): EQ0001 ~ EQ0999
- SITE002 (판교 테크노밸리): EQ1000 ~ EQ1999
- SITE003 (여의도 금융센터): EQ2000 ~ EQ2999
...
```

---

## 🎨 장비 자동 할당 규칙

### **건물 할당**
- 1000개 장비를 10개 건물에 균등 분배
- 각 건물당 100개 장비 할당

**예시 (SITE001):**
```
BLD001 (A동): EQ0001 ~ EQ0100 (100개)
BLD002 (B동): EQ0101 ~ EQ0200 (100개)
BLD003 (C동): EQ0201 ~ EQ0300 (100개)
...
BLD010 (J동): EQ0901 ~ EQ0999 (99개)
```

### **장비 타입**
다음 타입 중 랜덤 할당:
- `PACKAGED AIR CONDITIONER UNIT`
- `TURBO CHILLER`
- `SCREW CHILLER`
- `HEAT PUMP`
- `FCU (Fan Coil Unit)`
- `AHU (Air Handling Unit)`

### **위치 정보**
- **층수**: 1F ~ 19F (랜덤)
- **위치**: `R-{층수}-{번호}`
  - 예시: `R-5-12` (5층 12번)

### **용량**
- 10 ~ 59 RT (랜덤)

---

## 🗑️ 데이터 삭제

### **"모든 데이터 삭제" 버튼**
```
⚠️ 경고:
- 모든 현장, 건물, 장비 데이터가 삭제됩니다
- 이 작업은 되돌릴 수 없습니다
- 삭제 전 확인 창이 표시됩니다
```

---

## 📊 성능

### **생성 속도**
- **배치 처리**: 100개씩 동시 저장
- **예상 시간** (10개 현장, 10000개 장비):
  - 현장: ~5초
  - 건물: ~10초
  - 장비: ~2분

### **Firestore 쿼터**
- 쓰기 작업: 현장 10개 + 건물 100개 + 장비 10000개 = **10,110 writes**
- 무료 할당량: 일일 20,000 writes
- **안전**: 일일 할당량의 약 50% 사용

---

## 🎯 장점

### **1. 체계적인 구조**
```
✅ 현장별로 명확히 구분
✅ 장비 번호만으로 현장 파악 가능
   - EQ0500 → SITE001
   - EQ1500 → SITE002
   - EQ2500 → SITE003
```

### **2. 확장성**
```
✅ 현장 추가 시 기존 데이터 영향 없음
✅ SITE011 추가 → EQ10000 ~ EQ10999
```

### **3. 관리 편의성**
```
✅ 현장별 필터링 간단
✅ 장비 검색 용이
✅ 데이터 분석 편리
```

---

## 🔧 고급 설정

### **대량 데이터 생성**

#### **예시 1: 소규모 (테스트용)**
```
현장: 3개
장비: 100개/현장
→ 총 300개 장비 (~1분)
```

#### **예시 2: 중규모**
```
현장: 10개
장비: 1000개/현장
→ 총 10,000개 장비 (~2분)
```

#### **예시 3: 대규모**
```
현장: 50개
장비: 1000개/현장
→ 총 50,000개 장비 (~10분)
```

---

## 📌 주의사항

### **1. 기존 데이터**
```
⚠️ 기존 데이터와 충돌 가능
→ 생성 전 "모든 데이터 삭제" 권장
```

### **2. Firestore 쿼터**
```
⚠️ 대량 생성 시 쿼터 초과 가능
→ 일일 할당량 확인 필요
→ 무료: 20,000 writes/day
```

### **3. 브라우저 탭**
```
⚠️ 생성 중 탭 닫지 말 것
→ 진행 중단될 수 있음
```

---

## 🎉 완료!

이제 체계적으로 구조화된 데이터를 사용할 수 있습니다!

### **다음 단계**
1. **관리자 페이지** → 데이터 확인
   - https://noyorc.github.io/hvac-management/admin.html
   
2. **대시보드** → 통계 확인
   - https://noyorc.github.io/hvac-management/dashboard.html

3. **점검 입력** → 장비 검색
   - https://noyorc.github.io/hvac-management/inspection.html

---

**문제가 발생하면 콘솔(F12)을 확인하세요!** 📊
